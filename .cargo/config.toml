# Cargo configuration for 7D Solutions Platform

[build]
# Optimize build times
incremental = true

[test]
# CRITICAL: Limit test parallelism to prevent overwhelming Docker containers
# With 316+ E2E tests that create database connection pools, running in parallel
# causes OOM kills on Postgres containers (exit code 137)
#
# Default cargo test parallelism = number of CPU cores (often 8-16)
# This means up to 160+ simultaneous DB connection pools â†’ thousands of connections
#
# Setting to 1 (serial execution) to prevent resource exhaustion
# With 316+ E2E tests creating DB pools, even 4 threads causes OOM kills
test-threads = 1
